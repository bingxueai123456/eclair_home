<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ç¾å…ƒå…¨çƒç»æµå½±å“æœºåˆ¶ äº¤äº’å¼è§£æ</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+SC:wght@300;400;500;700&display=swap" rel="stylesheet">
    <!-- Chosen Palette: Calm Harmony (Light Slate background, Dark Gray/Slate text, Subtle Blue accent) -->
    <!-- Application Structure Plan: A single-page interactive narrative. Section 1 uses clickable cards for the 3 pillars. Section 2 is a simulation of the 'Harvest Cycle' with a toggle switch and dynamic chart. Section 3 is a clickable step-by-step diagram of a financial collapse. Section 4 presents two comparative flow diagrams for money creation. This structure turns a passive report into an active learning tool, visualizing complex processes for better understanding. -->
    <!-- Visualization & Content Choices: 1. Pillars: HTML Cards -> Organize -> Click to reveal details. 2. Harvest Cycle: Dynamic Chart.js + HTML/CSS animation -> Show Change/Relationship -> Toggle interaction to simulate cause-and-effect. 3. Crisis: HTML Diagram + mini Chart.js charts -> Show Process -> Clickable steps for staged information reveal. 4. Money Creation: HTML/CSS Flow Diagrams -> Compare Processes -> Visual flow is more intuitive than text. All choices prioritize interaction and visualization over static text to enhance user engagement and comprehension. -->
    <!-- CONFIRMATION: NO SVG graphics used. NO Mermaid JS used. -->
    <style>
        body {
            font-family: 'Noto Sans SC', sans-serif;
            background-color: #f8fafc; /* slate-50 */
            color: #334155; /* slate-700 */
        }
        .section-title {
            font-size: 2.25rem;
            font-weight: 700;
            color: #1e293b; /* slate-800 */
            text-align: center;
            margin-bottom: 1rem;
        }
        .section-subtitle {
            font-size: 1.125rem;
            color: #475569; /* slate-600 */
            text-align: center;
            max-width: 48rem;
            margin: 0 auto 4rem auto;
            line-height: 1.75;
        }
        .card {
            background-color: white;
            border-radius: 0.75rem;
            box-shadow: 0 10px 15px -3px rgb(0 0 0 / 0.05), 0 4px 6px -4px rgb(0 0 0 / 0.1);
            transition: transform 0.3s ease, box-shadow 0.3s ease;
            cursor: pointer;
        }
        .card:hover {
            transform: translateY(-5px);
            box-shadow: 0 20px 25px -5px rgb(0 0 0 / 0.1), 0 8px 10px -6px rgb(0 0 0 / 0.1);
        }
        .chart-container {
            position: relative;
            width: 100%;
            max-width: 48rem;
            margin-left: auto;
            margin-right: auto;
            height: 20rem;
        }
        @media (min-width: 768px) {
            .chart-container {
                height: 24rem;
            }
        }
        .flow-arrow {
            position: absolute;
            width: 0;
            height: 0;
            border-top: 8px solid transparent;
            border-bottom: 8px solid transparent;
            transform-origin: center;
            animation-duration: 2s;
            animation-iteration-count: infinite;
            animation-timing-function: linear;
        }
        .flow-right {
            border-left: 12px solid #38bdf8; /* sky-400 */
            animation-name: flow-right-anim;
        }
        .flow-left {
            border-right: 12px solid #f472b6; /* pink-400 */
            animation-name: flow-left-anim;
        }
        @keyframes flow-right-anim {
            from { left: 5%; opacity: 0; }
            25% { opacity: 1; }
            75% { opacity: 1; }
            to { left: 95%; opacity: 0; }
        }
        @keyframes flow-left-anim {
            from { left: 95%; opacity: 0; }
            25% { opacity: 1; }
            75% { opacity: 1; }
            to { left: 5%; opacity: 0; }
        }
        .toggle-bg:after {
            content: '';
            position: absolute;
            top: 0.25rem;
            left: 0.25rem;
            background: white;
            border-radius: 9999px;
            height: 2rem;
            width: 2rem;
            transition: 0.3s;
        }
        input:checked + .toggle-bg:after {
            transform: translateX(100%);
            left: -0.25rem;
        }
    </style>
</head>
<body class="antialiased">

    <header class="bg-white shadow-sm sticky top-0 z-50">
        <nav class="container mx-auto px-6 py-4 flex justify-between items-center">
            <div class="text-2xl font-bold text-slate-800">ç¾å…ƒéœ¸æƒè§£æ</div>
            <ul class="flex space-x-6">
                <li><a href="#pillars" class="text-slate-600 hover:text-blue-600 transition">éœ¸æƒæ”¯æŸ±</a></li>
                <li><a href="#cycle" class="text-slate-600 hover:text-blue-600 transition">æ”¶å‰²å‘¨æœŸ</a></li>
                <li><a href="#crisis" class="text-slate-600 hover:text-blue-600 transition">å±æœºæœºç†</a></li>
                <li><a href="#moneyflow" class="text-slate-600 hover:text-blue-600 transition">è´§å¸æºå¤´</a></li>
            </ul>
        </nav>
    </header>

    <main class="container mx-auto px-6 py-12 md:py-20">
        
        <section id="intro" class="text-center mb-20 md:mb-32">
            <h1 class="text-4xl md:text-6xl font-extrabold text-slate-800 mb-6">ç¾å…ƒçš„å…¨çƒç»æµå½±å“æœºåˆ¶</h1>
            <p class="text-lg md:text-xl text-slate-600 max-w-3xl mx-auto">ä¸€ä¸ªäº¤äº’å¼æŒ‡å—ï¼Œæ­ç¤ºç¾å…ƒå¦‚ä½•é€šè¿‡å…¶ç‹¬ç‰¹çš„å…¨çƒåœ°ä½ï¼Œå¡‘é€ ä¸–ç•Œç»æµæ ¼å±€ï¼Œå¼•å‘å‘¨æœŸæ€§çš„ç¹è£ä¸å±æœºã€‚</p>
        </section>

        <section id="pillars" class="py-16">
            <h2 class="section-title">éœ¸æƒæ”¯æŸ±</h2>
            <p class="section-subtitle">ç¾å…ƒå¹¶éå•çº¯çš„å›½å®¶è´§å¸ï¼Œè€Œæ˜¯å…¨çƒâ€œé‡‘èæ“ä½œç³»ç»Ÿâ€ã€‚å®ƒçš„éœ¸æƒåœ°ä½ç”±ä¸‰å¤§æ”¯æŸ±æ”¯æ’‘ï¼Œè¿™èµ‹äºˆäº†ç¾å›½è½¬å«é£é™©ã€è¾“å‡ºé€šèƒ€çš„â€œåš£å¼ ç‰¹æƒâ€ã€‚ç‚¹å‡»ä¸‹æ–¹å¡ç‰‡äº†è§£æ›´å¤šã€‚</p>
            <div class="grid md:grid-cols-3 gap-8">
                <div class="card p-8 text-center" onclick="showPillarDetail(0)">
                    <div class="text-5xl mb-4">ğŸ¦</div>
                    <h3 class="text-2xl font-bold text-slate-800 mb-2">ä¸–ç•Œå‚¨å¤‡è´§å¸</h3>
                    <p class="text-slate-500">å…¨çƒå¤®è¡Œçš„â€œå‹èˆ±çŸ³â€ï¼Œç³»ç»Ÿæ€§åœ°å¸æ”¶è¶…å‘ç¾å…ƒã€‚</p>
                </div>
                <div class="card p-8 text-center" onclick="showPillarDetail(1)">
                    <div class="text-5xl mb-4">ğŸ›¢ï¸</div>
                    <h3 class="text-2xl font-bold text-slate-800 mb-2">å¤§å®—å•†å“ç»“ç®—</h3>
                    <p class="text-slate-500">â€œçŸ³æ²¹ç¾å…ƒâ€ä½“ç³»ï¼Œå¼ºåˆ¶åˆ›é€ å®ä½“ç»æµä¸­çš„ç¾å…ƒéœ€æ±‚ã€‚</p>
                </div>
                <div class="card p-8 text-center" onclick="showPillarDetail(2)">
                    <div class="text-5xl mb-4">ğŸ›¡ï¸</div>
                    <h3 class="text-2xl font-bold text-slate-800 mb-2">ç»ˆæé¿é™©èµ„äº§</h3>
                    <p class="text-slate-500">å±æœºä¸­çš„èµ„æœ¬â€œä¿¡ä»°â€ï¼ŒåŠ¨è¡æ—¶åè€Œæ¨é«˜ç¾å…ƒä»·å€¼ã€‚</p>
                </div>
            </div>
        </section>

        <section id="cycle" class="py-16 bg-slate-100 -mx-6 px-6 rounded-2xl">
            <h2 class="section-title">å‘¨æœŸæ€§â€œæ”¶å‰²â€ï¼šåˆ©ç‡æ½®æ±çš„äº¤äº’æ¨¡æ‹Ÿ</h2>
            <p class="section-subtitle">ç¾è”å‚¨é€šè¿‡è°ƒèŠ‚åˆ©ç‡ï¼Œåˆ¶é€ å…¨çƒèµ„æœ¬æµåŠ¨çš„â€œæ½®æ±â€ã€‚è¯·æ‹¨åŠ¨ä¸‹æ–¹çš„å¼€å…³ï¼Œäº²æ‰‹æ¨¡æ‹Ÿèµ„æœ¬çš„æµåŠ¨ï¼Œè§‚å¯Ÿå®ƒå¦‚ä½•åœ¨æ–°å…´å¸‚åœºå‚¬ç”Ÿæ³¡æ²«ï¼Œåˆå¦‚ä½•å°†å…¶åˆºç ´ã€‚</p>
            
            <div class="flex justify-center items-center space-x-4 mb-8">
                <span class="font-semibold text-pink-500">åŠ æ¯â€œæŠ½æ°´â€</span>
                <div class="relative">
                    <input type="checkbox" id="rate-toggle" class="sr-only">
                    <label for="rate-toggle" class="block w-20 h-10 rounded-full bg-slate-300 cursor-pointer toggle-bg"></label>
                </div>
                <span class="font-semibold text-sky-500">é™æ¯â€œæ”¾æ°´â€</span>
            </div>

            <div class="grid md:grid-cols-2 gap-8 items-center">
                <div class="bg-white p-6 rounded-lg shadow-md text-center">
                    <h3 class="text-2xl font-bold text-slate-800">ç¾å›½</h3>
                    <p id="us-status" class="text-slate-500 h-12">èµ„æœ¬å¯»æ±‚æ›´é«˜å›æŠ¥</p>
                </div>
                <div class="bg-white p-6 rounded-lg shadow-md text-center">
                    <h3 class="text-2xl font-bold text-slate-800">æ–°å…´å¸‚åœº</h3>
                    <p id="em-status" class="text-slate-500 h-12">èµ„äº§ä»·æ ¼é£™å‡ï¼Œå½¢æˆæ³¡æ²«</p>
                </div>
            </div>
            
            <div class="relative h-20 my-4">
                <div id="capital-flow-container"></div>
            </div>

            <div class="bg-white p-4 rounded-lg shadow-lg">
                <div class="chart-container">
                    <canvas id="em-asset-chart"></canvas>
                </div>
            </div>
        </section>

        <section id="crisis" class="py-16">
            <h2 class="section-title">å±æœºæœºç†ï¼šé‡‘èå´©æºƒçš„è¿é”ååº”</h2>
            <p class="section-subtitle">èµ„æœ¬å¤–é€ƒå¹¶éç®€å•çš„å¸‚åœºæ³¢åŠ¨ï¼Œè€Œæ˜¯ä¸€åœºâ€œéå¯¹ç§°é‡‘èæˆ˜äº‰â€ã€‚å®ƒä¼šåƒå¤šç±³è¯ºéª¨ç‰Œä¸€æ ·ï¼Œå¼•å‘ç³»ç»Ÿæ€§å´©æºƒã€‚ç‚¹å‡»ä¸‹æ–¹æµç¨‹ä¸­çš„æ¯ä¸€æ­¥ï¼ŒæŸ¥çœ‹å…¶å…·ä½“ç ´ååŠ›ã€‚</p>
            <div class="flex flex-col md:flex-row justify-center items-center md:space-x-4 space-y-4 md:space-y-0">
                <div id="crisis-step-1" class="crisis-step card p-4 w-full md:w-auto text-center" onclick="showCrisisDetail(1)">
                    <h4 class="font-bold text-lg">1. æ±‡ç‡å´©æºƒ</h4>
                </div>
                <div class="text-2xl font-bold text-slate-400 hidden md:block">â†’</div>
                <div id="crisis-step-2" class="crisis-step card p-4 w-full md:w-auto text-center" onclick="showCrisisDetail(2)">
                    <h4 class="font-bold text-lg">2. èµ„äº§å´©ç›˜</h4>
                </div>
                <div class="text-2xl font-bold text-slate-400 hidden md:block">â†’</div>
                 <div id="crisis-step-3" class="crisis-step card p-4 w-full md:w-auto text-center" onclick="showCrisisDetail(3)">
                    <h4 class="font-bold text-lg">3. å€ºåŠ¡å±æœº</h4>
                </div>
            </div>
            <div id="crisis-detail-content" class="mt-8 bg-white p-8 rounded-lg shadow-inner min-h-[20rem] transition-all duration-500">
                <div class="grid md:grid-cols-2 gap-8 items-center">
                    <div>
                        <h3 id="crisis-detail-title" class="text-3xl font-bold text-slate-800 mb-4">è¯·é€‰æ‹©ä¸€ä¸ªæ­¥éª¤æŸ¥çœ‹è¯¦æƒ…</h3>
                        <p id="crisis-detail-text" class="text-slate-600 leading-relaxed"></p>
                    </div>
                    <div class="chart-container h-48 md:h-64">
                         <canvas id="crisis-detail-chart"></canvas>
                    </div>
                </div>
            </div>
        </section>

        <section id="moneyflow" class="py-16 bg-slate-100 -mx-6 px-6 rounded-2xl">
            <h2 class="section-title">è´§å¸æºå¤´ï¼šâ€œå°â€çš„é’±å¦‚ä½•æµå…¥å¸‚åœºï¼Ÿ</h2>
            <p class="section-subtitle">ç°ä»£â€œå°é’â€æ˜¯å¤®è¡Œèµ„äº§è´Ÿå€ºè¡¨çš„æ‰©å¼ ã€‚æ–°å¢è´§å¸ä¸»è¦é€šè¿‡ä»¥ä¸‹ä¸¤ä¸ªæ¸ é“æ³¨å…¥ç»æµï¼Œä¸€ä¸ªæ˜¯é—´æ¥å¾®è°ƒï¼Œå¦ä¸€ä¸ªæ˜¯ç›´æ¥åˆºæ¿€ã€‚</p>
            <div class="grid md:grid-cols-2 gap-8">
                <div class="bg-white p-8 rounded-lg shadow-md">
                    <h3 class="text-2xl font-bold text-center mb-6">æ¸ é“ä¸€ï¼šå…¬å¼€å¸‚åœºæ“ä½œ (é—´æ¥)</h3>
                    <div class="space-y-4 text-center">
                        <div class="p-4 bg-sky-100 text-sky-800 rounded-lg">ä¸­å¤®é“¶è¡Œ</div>
                        <div class="text-2xl">â†“ <span class="text-sm font-mono">è´­ä¹°å›½å€º (æ³¨å…¥èµ„é‡‘)</span></div>
                        <div class="p-4 bg-blue-100 text-blue-800 rounded-lg">å•†ä¸šé“¶è¡Œ</div>
                        <div class="text-2xl">â†“ <span class="text-sm font-mono">å‘æ”¾è´·æ¬¾</span></div>
                        <div class="p-4 bg-indigo-100 text-indigo-800 rounded-lg">ä¼ä¸šå’Œä¸ªäºº</div>
                    </div>
                    <p class="text-sm text-slate-500 mt-6">å¤®è¡Œé€šè¿‡å‘é“¶è¡Œç³»ç»Ÿæ³¨å…¥æˆ–æŠ½å‡ºèµ„é‡‘ï¼Œæ¥è°ƒæ§å¸‚åœºæµåŠ¨æ€§ï¼Œå½±å“åˆ©ç‡ï¼Œè¿™æ˜¯å¸¸è§„è´§å¸æ”¿ç­–çš„æ ¸å¿ƒã€‚</p>
                </div>
                <div class="bg-white p-8 rounded-lg shadow-md">
                     <h3 class="text-2xl font-bold text-center mb-6">æ¸ é“äºŒï¼šè´¢æ”¿è´§å¸åŒ– (ç›´æ¥)</h3>
                    <div class="space-y-4 text-center">
                        <div class="p-4 bg-sky-100 text-sky-800 rounded-lg">ä¸­å¤®é“¶è¡Œ</div>
                        <div class="text-2xl">â†“ <span class="text-sm font-mono">è´­ä¹°æ”¿åºœå›½å€º</span></div>
                        <div class="p-4 bg-green-100 text-green-800 rounded-lg">æ”¿åºœè´¢æ”¿éƒ¨</div>
                        <div class="text-2xl">â†“ <span class="text-sm font-mono">å…¬å…±å¼€æ”¯/å‘é’±</span></div>
                        <div class="p-4 bg-indigo-100 text-indigo-800 rounded-lg">ä¼ä¸šå’Œæ°‘ä¼—</div>
                    </div>
                    <p class="text-sm text-slate-500 mt-6">å¤®è¡Œç›´æ¥ä¸ºæ”¿åºœçš„è´¢æ”¿èµ¤å­—èèµ„ï¼Œæ”¿åºœæ‹¿åˆ°é’±åç›´æ¥æŠ•å…¥å®ä½“ç»æµï¼Œæ•ˆæœæœ€å¿«ï¼Œé€šå¸¸åœ¨å±æœºæ—¶ä½¿ç”¨ï¼ˆå¦‚QEï¼‰ã€‚</p>
                </div>
            </div>
        </section>
    </main>

    <footer class="bg-slate-800 text-slate-400 text-center p-6">
        <p>&copy; 2025 äº¤äº’å¼ç»æµå­¦è§£æã€‚å†…å®¹æ ¹æ®å…¬å¼€æŠ¥å‘Šæ•´ç†ï¼Œä»…ä¾›å­¦ä¹ äº¤æµä½¿ç”¨ã€‚</p>
    </footer>
    
    <div id="modal" class="fixed inset-0 bg-black bg-opacity-50 flex justify-center items-center p-4 z-50 hidden transition-opacity">
        <div class="bg-white rounded-lg shadow-2xl max-w-2xl w-full p-8 relative">
            <button onclick="closeModal()" class="absolute top-4 right-4 text-slate-500 hover:text-slate-800 text-2xl">&times;</button>
            <h3 id="modal-title" class="text-3xl font-bold text-slate-800 mb-4"></h3>
            <p id="modal-text" class="text-slate-600 leading-relaxed"></p>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            
            const pillarDetails = [
                { title: 'ä¸–ç•Œå‚¨å¤‡è´§å¸', text: 'å…¨çƒå„å›½å¤®è¡Œéƒ½éœ€å‚¨å¤‡å¤§é‡ç¾å…ƒä½œä¸ºåº”å¯¹å›½é™…æ”¯ä»˜å’Œç¨³å®šæœ¬å¸çš„â€œå‹èˆ±çŸ³â€ã€‚è¿™ä¸€åœ°ä½ç¡®ç«‹äºäºŒæˆ˜åçš„å¸ƒé›·é¡¿æ£®æ—ä½“ç³»ï¼Œå°½ç®¡è¯¥ä½“ç³»å·²ç“¦è§£ï¼Œä½†è·¯å¾„ä¾èµ–å’Œç¼ºä¹æ›¿ä»£å“ä½¿å¾—ç¾å…ƒçš„å‚¨å¤‡åœ°ä½å¾—ä»¥å»¶ç»­ã€‚è¿™ä½¿å¾—æ–°å¢å‘çš„ç¾å…ƒèƒ½è¢«å…¨çƒå¤®è¡Œç³»ç»Ÿæ€§åœ°å¸æ”¶ï¼Œä»¥ç»´æŒå…¶å¤–æ±‡å‚¨å¤‡ä¸­ç¾å…ƒçš„å›ºå®šæ¯”ä¾‹ã€‚è¿™ç§å…¨çƒæ€§çš„è¢«åŠ¨å¸çº³ï¼Œæå¤§åœ°ç¼“å†²äº†ç¾å…ƒæ»¥å‘å¯¹ç¾å›½æœ¬åœŸé€šèƒ€çš„ç›´æ¥å†²å‡»ã€‚' },
                { title: 'å¤§å®—å•†å“å®šä»·ä¸ç»“ç®—', text: 'ä»¥1970å¹´ä»£å½¢æˆçš„â€œçŸ³æ²¹ç¾å…ƒâ€ä½“ç³»ä¸ºæ ¸å¿ƒï¼Œå…¨çƒå‡ ä¹æ‰€æœ‰å…³é”®æˆ˜ç•¥ç‰©èµ„ï¼ˆçŸ³æ²¹ã€ç²®é£Ÿã€çŸ¿äº§ã€ç”šè‡³èŠ¯ç‰‡ï¼‰å‡ä»¥ç¾å…ƒè®¡ä»·å’Œç»“ç®—ã€‚è¯¥ä½“ç³»æºäºç¾å›½ä¸æ²™ç‰¹ç­‰ä¸»è¦äº§æ²¹å›½è¾¾æˆçš„åè®®ï¼Œå³çŸ³æ²¹å‡ºå£å¿…é¡»ç”¨ç¾å…ƒç»“ç®—ï¼Œä½œä¸ºäº¤æ¢ï¼Œç¾å›½æä¾›å†›äº‹ä¿æŠ¤ã€‚è¿™æ„å‘³ç€ï¼Œä»»ä½•å›½å®¶åªè¦æƒ³å‚ä¸å›½é™…è´¸æ˜“ã€è´­ä¹°å·¥ä¸šå’Œæ°‘ç”Ÿå¿…éœ€å“ï¼Œå°±å¿…é¡»è·å–å’Œä½¿ç”¨ç¾å…ƒã€‚è¿™å°±åˆ›é€ äº†ä¸€ç§ä¸å®ä½“ç»æµæ´»åŠ¨åˆšæ€§ç»‘å®šçš„ç¾å…ƒéœ€æ±‚ï¼Œä½¿å¾—ç¾è”å‚¨çš„è´§å¸æ”¿ç­–èƒ½æ·±åº¦å½±å“å…¨çƒæ‰€æœ‰å›½å®¶çš„å®ä½“ç»æµæˆæœ¬ã€‚' },
                { title: 'ç»ˆæé¿é™©èµ„äº§ä¸æœ€æ·±é‡‘èå¸‚åœº', text: 'åœ¨å…¨çƒæ€§å±æœºï¼ˆå“ªæ€•æºè‡ªç¾å›½ï¼Œå¦‚2008å¹´æ¬¡è´·å±æœºï¼‰ä¸­ï¼Œå›½é™…èµ„æœ¬å› ç›¸ä¿¡ç¾å›½çš„æœ€ç»ˆå¿ä»˜èƒ½åŠ›ï¼ˆç”±å…¶å†›äº‹ã€ç§‘æŠ€å’Œåˆ¶åº¦å®åŠ›èƒŒä¹¦ï¼‰ï¼Œåè€Œä¼šæ¶Œå…¥è´­ä¹°ç¾å›½å›½å€ºç­‰èµ„äº§é¿é™©ã€‚ç¾å›½çš„é‡‘èå¸‚åœºï¼Œå°¤å…¶æ˜¯ç¾å›½å›½å€ºå¸‚åœºï¼Œæ‹¥æœ‰å…¨çƒæ— å¯æ¯”æ‹Ÿçš„æ·±åº¦ã€å¹¿åº¦å’ŒæµåŠ¨æ€§ï¼Œèƒ½å¤Ÿå¸çº³æ•°ä¸‡äº¿çš„èµ„æœ¬è€Œä¸è‡³äºå´©æºƒã€‚è¿™ç§ç‹¬ç‰¹çš„â€œé¿é™©â€å±æ€§ï¼Œä½¿å¾—ç¾å…ƒåœ¨åŠ¨è¡ä¸­åè€Œèƒ½èµ°å¼ºï¼Œå½¢æˆâ€œå±æœº=ç¾å…ƒå‡å€¼â€çš„å¥‡ç‰¹å¾ªç¯ï¼Œè¿›ä¸€æ­¥å·©å›ºäº†å…¶æ ¸å¿ƒåœ°ä½ã€‚' }
            ];

            const crisisDetails = [
                {}, // Placeholder for 1-based index
                { 
                    title: '1. æ±‡ç‡å´©æºƒ', 
                    text: 'å¤–èµ„é›†ä¸­æŠ›å”®æœ¬å¸ã€æŠ¢è´­ç¾å…ƒï¼Œå¯¼è‡´å¤–æ±‡å¸‚åœºä¾›éœ€ä¸¥é‡å¤±è¡¡ã€‚å›½å®¶çš„å¤®è¡Œè¯•å›¾é€šè¿‡æŠ›å”®è‡ªå·±æœ‰é™çš„ç¾å…ƒå‚¨å¤‡æ¥ç¨³å®šæ±‡ç‡ï¼Œä½†è¿™å¦‚åŒç”¨æ°´æ¡¶æŠµæŒ¡æ´ªæ°´ï¼Œå¾ˆå¿«ä¾¿ä¼šâ€œå¼¹å°½ç²®ç»â€ï¼Œæ±‡ç‡é˜²çº¿å½»åº•å¤±å®ˆã€‚',
                    chartData: { labels: ['T-5', 'T-4', 'T-3', 'T-2', 'T-1', 'T'], values: [100, 99, 98, 70, 40, 30], label: 'æœ¬å¸å¯¹ç¾å…ƒæ±‡ç‡' }
                },
                { 
                    title: '2. èµ„äº§å´©ç›˜', 
                    text: 'ä¸ºæ¢å–ç°é‡‘ç¦»åœºï¼Œå¤–èµ„ä¼šä¸è®¡æˆæœ¬åœ°æŠ›å”®è‚¡ç¥¨ã€æˆ¿åœ°äº§ã€‚è¿™ç§æµ·é‡æŠ›ç›˜åœ¨ç¬é—´å‹å®äº†å¸‚åœºï¼Œè€Œæœ¬åœ°ä¹°å®¶å› ææ…Œé€‰æ‹©æŒå¸è§‚æœ›ï¼Œå¯¼è‡´â€œä¹°ç›˜æ¶ˆå¤±â€ï¼Œä»·æ ¼èºæ—‹å¼ä¸‹è·Œã€‚',
                    chartData: { labels: ['T-5', 'T-4', 'T-3', 'T-2', 'T-1', 'T'], values: [10000, 9800, 9500, 6000, 3000, 1500], label: 'è‚¡å¸‚æŒ‡æ•°' }
                },
                { 
                    title: '3. å€ºåŠ¡å±æœº', 
                    text: 'è®¸å¤šæœ¬åœ°ä¼ä¸šå€Ÿçš„æ˜¯ç¾å…ƒå€ºåŠ¡ï¼Œè€Œæ”¶å…¥æ˜¯æœ¬å¸ã€‚æœ¬å¸çš„å¤§å¹…è´¬å€¼ä½¿å¾—å…¶å€ºåŠ¡è´Ÿæ‹…åœ¨ä¸€å¤œä¹‹é—´æˆå€å¢åŠ ï¼ˆå³â€œè´§å¸é”™é…â€ï¼‰ï¼Œæœ€ç»ˆæ— åŠ›å¿è¿˜ï¼Œå¼•å‘å¤§è§„æ¨¡ç ´äº§ã€‚',
                    chartData: { labels: ['å±æœºå‰', 'å±æœºå'], values: [100, 250], label: 'å¤–å€ºåä¹‰è´Ÿæ‹… (æœ¬å¸è®¡)' }
                }
            ];

            window.showPillarDetail = function(index) {
                document.getElementById('modal-title').innerText = pillarDetails[index].title;
                document.getElementById('modal-text').innerText = pillarDetails[index].text;
                document.getElementById('modal').classList.remove('hidden');
            }

            window.closeModal = function() {
                document.getElementById('modal').classList.add('hidden');
            }
            
            // Cycle Chart
            const ctxCycle = document.getElementById('em-asset-chart').getContext('2d');
            const cycleChart = new Chart(ctxCycle, {
                type: 'line',
                data: {
                    labels: ['é˜¶æ®µ 0', 'é˜¶æ®µ 1', 'é˜¶æ®µ 2', 'é˜¶æ®µ 3', 'é˜¶æ®µ 4', 'é˜¶æ®µ 5'],
                    datasets: [{
                        label: 'æ–°å…´å¸‚åœºèµ„äº§ä»·æ ¼æŒ‡æ•°',
                        tension: 0.4,
                        pointRadius: 5,
                        pointHoverRadius: 7,
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    scales: {
                        y: {
                            beginAtZero: true
                        }
                    },
                    plugins: {
                        legend: {
                            position: 'top',
                        },
                        tooltip: {
                            callbacks: {
                                label: function(context) {
                                    return `${context.dataset.label}: ${context.parsed.y}`;
                                }
                            }
                        }
                    }
                }
            });

            // Crisis Chart
            const ctxCrisis = document.getElementById('crisis-detail-chart').getContext('2d');
            let crisisChart = new Chart(ctxCrisis, {
                 type: 'bar', 
                 options: { responsive: true, maintainAspectRatio: false }
            });

            window.showCrisisDetail = function(step) {
                document.querySelectorAll('.crisis-step').forEach(el => el.classList.remove('bg-blue-100', 'ring-2', 'ring-blue-500'));
                document.getElementById(`crisis-step-${step}`).classList.add('bg-blue-100', 'ring-2', 'ring-blue-500');

                const detail = crisisDetails[step];
                document.getElementById('crisis-detail-title').innerText = detail.title;
                document.getElementById('crisis-detail-text').innerText = detail.text;
                
                const chartType = step === 3 ? 'bar' : 'line';
                
                crisisChart.destroy();
                crisisChart = new Chart(ctxCrisis, {
                    type: chartType,
                    data: {
                        labels: detail.chartData.labels,
                        datasets: [{
                            label: detail.chartData.label,
                            data: detail.chartData.values,
                            backgroundColor: chartType === 'bar' ? 'rgba(239, 68, 68, 0.6)' : 'transparent',
                            borderColor: chartType === 'bar' ? 'rgba(239, 68, 68, 1)' : 'rgba(239, 68, 68, 1)',
                            borderWidth: chartType === 'bar' ? 1 : 3,
                            fill: chartType === 'line' ? false : true,
                            tension: 0.1,
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        plugins: { legend: { display: false } },
                        scales: { y: { beginAtZero: true } }
                    }
                });
            }
            
            // Rate Toggle Logic
            const rateToggle = document.getElementById('rate-toggle');
            const usStatus = document.getElementById('us-status');
            const emStatus = document.getElementById('em-status');
            const flowContainer = document.getElementById('capital-flow-container');
            const riskOffData = { data: [100, 90, 80, 50, 30, 20], color: '#f472b6' }; // pink
            const riskOnData = { data: [20, 40, 80, 150, 250, 350], color: '#38bdf8' }; // sky

            function updateCycle(isRiskOn) {
                const dataset = cycleChart.data.datasets[0];
                const dataConfig = isRiskOn ? riskOnData : riskOffData;
                
                dataset.data = dataConfig.data;
                dataset.borderColor = dataConfig.color;
                dataset.backgroundColor = dataConfig.color + '33'; // Add transparency
                dataset.pointBackgroundColor = dataConfig.color;
                cycleChart.update();
                
                usStatus.innerText = isRiskOn ? 'èµ„æœ¬å¯»æ±‚æ›´é«˜å›æŠ¥ï¼Œæµå‡ºæœ¬åœŸ' : 'é«˜åˆ©ç‡å¸å¼•èµ„æœ¬å›æµé¿é™©';
                emStatus.innerText = isRiskOn ? 'èµ„äº§ä»·æ ¼é£™å‡ï¼Œå½¢æˆæ³¡æ²«' : 'æ³¡æ²«ç ´è£‚ï¼Œèµ„äº§ä»·æ ¼å´©ç›˜';
                
                flowContainer.innerHTML = '';
                const flowClass = isRiskOn ? 'flow-right' : 'flow-left';
                for (let i = 0; i < 5; i++) {
                    const arrow = document.createElement('div');
                    arrow.className = `flow-arrow ${flowClass}`;
                    arrow.style.top = `${Math.random() * 80 + 10}%`;
                    arrow.style.animationDelay = `${i * 0.4}s`;
                    flowContainer.appendChild(arrow);
                }
            }
            
            rateToggle.addEventListener('change', (e) => {
                updateCycle(e.target.checked);
            });
            
            updateCycle(rateToggle.checked);
            showCrisisDetail(1);

            // Smooth scrolling for nav links
            document.querySelectorAll('a[href^="#"]').forEach(anchor => {
                anchor.addEventListener('click', function (e) {
                    e.preventDefault();
                    document.querySelector(this.getAttribute('href')).scrollIntoView({
                        behavior: 'smooth'
                    });
                });
            });
        });
    </script>
</body>
</html>
1